Package not available: libhdf5-serial-dev (skipping - not critical)
‚¨ÜÔ∏è  Upgrading pip...
error: externally-managed-environment

√ó This environment is externally managed
‚ï∞‚îÄ> To install Python packages system-wide, try apt install
    python3-xyz, where xyz is the package you are trying to
    install.
    
    If you wish to install a non-Debian-packaged Python package,
    create a virtual environment using python3 -m venv path/to/venv.
    Then use path/to/venv/bin/python and path/to/venv/bin/pip. Make
    sure you have python3-full installed.
    
    For more information visit http://rptl.io/venv

note: If you believe this is a mistake, please contact your Python installation or OS distribution provider. You can override this, at the risk of breaking your Python installation or OS, by passing --break-system-packages.
hint: See PEP 668 for the detailed specification.


WARNING: The script wheel is installed in '/home/pi/.local/bin' which is not on PATH.
  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.
  WARNING: The scripts pip, pip3 and pip3.11 are installed in '/home/pi/.local/bin' which is not on PATH.
  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.

pi@raspberrypi:~/RaspberryPie5 $ ./run.sh
üé¨ Starting Raspberry Pi 5 Face Detection System...
=================================================
üîç Checking picamera2 installation...
‚ùå picamera2 not found
üì¶ Installing picamera2...
Defaulting to user installation because normal site-packages is not writeable
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: picamera2 in /usr/lib/python3/dist-packages (0.3.31)
Requirement already satisfied: numpy in /home/pi/.local/lib/python3.11/site-packages (from picamera2) (2.2.6)
Requirement already satisfied: PiDNG in /usr/lib/python3/dist-packages (from picamera2) (4.0.9)
Requirement already satisfied: piexif in /usr/lib/python3/dist-packages (from picamera2) (1.1.3)
Requirement already satisfied: pillow in /usr/lib/python3/dist-packages (from picamera2) (9.4.0)
Requirement already satisfied: simplejpeg in /usr/lib/python3/dist-packages (from picamera2) (1.8.1)
Requirement already satisfied: videodev2 in /usr/lib/python3/dist-packages (from picamera2) (0.0.4)
Requirement already satisfied: python-prctl in /usr/lib/python3/dist-packages (from picamera2) (1.8.1)
Requirement already satisfied: av in /usr/lib/python3/dist-packages (from picamera2) (12.3.0)
Requirement already satisfied: libarchive-c in /usr/lib/python3/dist-packages (from picamera2) (2.9)
Requirement already satisfied: tqdm in /usr/lib/python3/dist-packages (from picamera2) (4.64.1)
Requirement already satisfied: jsonschema in /usr/lib/python3/dist-packages (from picamera2) (4.10.3)
Requirement already satisfied: attrs>=17.4.0 in /usr/lib/python3/dist-packages (from jsonschema->picamera2) (22.2.0)
Requirement already satisfied: pyrsistent!=0.17.0,!=0.17.1,!=0.17.2,>=0.14.0 in /usr/lib/python3/dist-packages (from jsonschema->picamera2) (0.18.1)
WARNING: Error parsing dependencies of send2trash: Expected matching RIGHT_PARENTHESIS for LEFT_PARENTHESIS, after version specifier
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
‚ùå Failed to install picamera2. Please run setup.sh first.


pi@raspberrypi:~/RaspberryPie5 $ ./run.sh
üé¨ Starting Raspberry Pi 5 Face Detection System...
=================================================
üîç Checking picamera2 installation...
‚úÖ picamera2 is installed (detected via package manager)
   Continuing - import will be tested when script runs
üöÄ Launching face detection system...

üìã Controls:
   - 'q' or ESC: Quit
   - 'r': Reset FPS counter
   - 'f': Toggle FPS display
   - 'd': Toggle detection info
   - 's': Toggle performance stats
   - 'c': Toggle confidence threshold
   - SPACE: Pause/Resume

‚ö° Performance Tips:
   - Lower camera resolution for better FPS
   - Increase frame skipping for less CPU usage
   - Adjust resize factor for speed vs accuracy

Traceback (most recent call last):
  File "/home/pi/RaspberryPie5/raspberry_pi_face_detection.py", line 30, in <module>
    from picamera2 import Picamera2
  File "/usr/lib/python3/dist-packages/picamera2/__init__.py", line 11, in <module>
    from .picamera2 import Picamera2, Preview
  File "/usr/lib/python3/dist-packages/picamera2/picamera2.py", line 30, in <module>
    from picamera2.encoders import Encoder, H264Encoder, MJPEGEncoder, Quality
  File "/usr/lib/python3/dist-packages/picamera2/encoders/__init__.py", line 7, in <module>
    from .encoder import Encoder, Quality
  File "/usr/lib/python3/dist-packages/picamera2/encoders/encoder.py", line 13, in <module>
    from ..request import _MappedBuffer
  File "/usr/lib/python3/dist-packages/picamera2/request.py", line 13, in <module>
    import simplejpeg
  File "/usr/lib/python3/dist-packages/simplejpeg/__init__.py", line 1, in <module>
    from ._jpeg import encode_jpeg, encode_jpeg_yuv_planes
  File "simplejpeg/_jpeg.pyx", line 1, in init simplejpeg._jpeg
ValueError: numpy.dtype size changed, may indicate binary incompatibility. Expected 96 from C header, got 88 from PyObject

üëã Face detection system stopped.
