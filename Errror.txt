Package not available: libhdf5-serial-dev (skipping - not critical)
‚¨ÜÔ∏è  Upgrading pip...
error: externally-managed-environment

√ó This environment is externally managed
‚ï∞‚îÄ> To install Python packages system-wide, try apt install
    python3-xyz, where xyz is the package you are trying to
    install.
    
    If you wish to install a non-Debian-packaged Python package,
    create a virtual environment using python3 -m venv path/to/venv.
    Then use path/to/venv/bin/python and path/to/venv/bin/pip. Make
    sure you have python3-full installed.
    
    For more information visit http://rptl.io/venv

note: If you believe this is a mistake, please contact your Python installation or OS distribution provider. You can override this, at the risk of breaking your Python installation or OS, by passing --break-system-packages.
hint: See PEP 668 for the detailed specification.


WARNING: The script wheel is installed in '/home/pi/.local/bin' which is not on PATH.
  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.
  WARNING: The scripts pip, pip3 and pip3.11 are installed in '/home/pi/.local/bin' which is not on PATH.
  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.

pi@raspberrypi:~/RaspberryPie5 $ ./run.sh
üé¨ Starting Raspberry Pi 5 Face Detection System...
=================================================
üîç Checking picamera2 installation...
‚ùå picamera2 not found
üì¶ Installing picamera2...
Defaulting to user installation because normal site-packages is not writeable
Looking in indexes: https://pypi.org/simple, https://www.piwheels.org/simple
Requirement already satisfied: picamera2 in /usr/lib/python3/dist-packages (0.3.31)
Requirement already satisfied: numpy in /home/pi/.local/lib/python3.11/site-packages (from picamera2) (2.2.6)
Requirement already satisfied: PiDNG in /usr/lib/python3/dist-packages (from picamera2) (4.0.9)
Requirement already satisfied: piexif in /usr/lib/python3/dist-packages (from picamera2) (1.1.3)
Requirement already satisfied: pillow in /usr/lib/python3/dist-packages (from picamera2) (9.4.0)
Requirement already satisfied: simplejpeg in /usr/lib/python3/dist-packages (from picamera2) (1.8.1)
Requirement already satisfied: videodev2 in /usr/lib/python3/dist-packages (from picamera2) (0.0.4)
Requirement already satisfied: python-prctl in /usr/lib/python3/dist-packages (from picamera2) (1.8.1)
Requirement already satisfied: av in /usr/lib/python3/dist-packages (from picamera2) (12.3.0)
Requirement already satisfied: libarchive-c in /usr/lib/python3/dist-packages (from picamera2) (2.9)
Requirement already satisfied: tqdm in /usr/lib/python3/dist-packages (from picamera2) (4.64.1)
Requirement already satisfied: jsonschema in /usr/lib/python3/dist-packages (from picamera2) (4.10.3)
Requirement already satisfied: attrs>=17.4.0 in /usr/lib/python3/dist-packages (from jsonschema->picamera2) (22.2.0)
Requirement already satisfied: pyrsistent!=0.17.0,!=0.17.1,!=0.17.2,>=0.14.0 in /usr/lib/python3/dist-packages (from jsonschema->picamera2) (0.18.1)
WARNING: Error parsing dependencies of send2trash: Expected matching RIGHT_PARENTHESIS for LEFT_PARENTHESIS, after version specifier
    sys-platform (=="darwin") ; extra == 'objc'
                 ~^
‚ùå Failed to install picamera2. Please run setup.sh first.


pi@raspberrypi:~/RaspberryPie5 $ ./run.sh
üé¨ Starting Raspberry Pi 5 Face Detection System...
=================================================
üîç Checking picamera2 installation...
‚úÖ picamera2 is installed (detected via package manager)
   Continuing - import will be tested when script runs
üöÄ Launching face detection system...

üìã Controls:
   - 'q' or ESC: Quit
   - 'r': Reset FPS counter
   - 'f': Toggle FPS display
   - 'd': Toggle detection info
   - 's': Toggle performance stats
   - 'c': Toggle confidence threshold
   - SPACE: Pause/Resume

‚ö° Performance Tips:
   - Lower camera resolution for better FPS
   - Increase frame skipping for less CPU usage
   - Adjust resize factor for speed vs accuracy

Traceback (most recent call last):
  File "/home/pi/RaspberryPie5/raspberry_pi_face_detection.py", line 30, in <module>
    from picamera2 import Picamera2
  File "/usr/lib/python3/dist-packages/picamera2/__init__.py", line 11, in <module>
    from .picamera2 import Picamera2, Preview
  File "/usr/lib/python3/dist-packages/picamera2/picamera2.py", line 30, in <module>
    from picamera2.encoders import Encoder, H264Encoder, MJPEGEncoder, Quality
  File "/usr/lib/python3/dist-packages/picamera2/encoders/__init__.py", line 7, in <module>
    from .encoder import Encoder, Quality
  File "/usr/lib/python3/dist-packages/picamera2/encoders/encoder.py", line 13, in <module>
    from ..request import _MappedBuffer
  File "/usr/lib/python3/dist-packages/picamera2/request.py", line 13, in <module>
    import simplejpeg
  File "/usr/lib/python3/dist-packages/simplejpeg/__init__.py", line 1, in <module>
    from ._jpeg import encode_jpeg, encode_jpeg_yuv_planes
  File "simplejpeg/_jpeg.pyx", line 1, in init simplejpeg._jpeg
ValueError: numpy.dtype size changed, may indicate binary incompatibility. Expected 96 from C header, got 88 from PyObject

üëã Face detection system stopped.



pi@raspberrypi:~/RaspberryPie5 $ ./run.sh
üé¨ Starting Raspberry Pi 5 Face Detection System...
=================================================
üîç Checking picamera2 installation...
‚úÖ picamera2 is installed (detected via package manager)
   Continuing - import will be tested when script runs
üöÄ Launching face detection system...

üìã Controls:
   - 'q' or ESC: Quit
   - 'r': Reset FPS counter
   - 'f': Toggle FPS display
   - 'd': Toggle detection info
   - 's': Toggle performance stats
   - 'c': Toggle confidence threshold
   - SPACE: Pause/Resume

‚ö° Performance Tips:
   - Lower camera resolution for better FPS
   - Increase frame skipping for less CPU usage
   - Adjust resize factor for speed vs accuracy

Traceback (most recent call last):
  File "/home/pi/RaspberryPie5/raspberry_pi_face_detection.py", line 30, in <module>
    from picamera2 import Picamera2
  File "/usr/lib/python3/dist-packages/picamera2/__init__.py", line 11, in <module>
    from .picamera2 import Picamera2, Preview
  File "/usr/lib/python3/dist-packages/picamera2/picamera2.py", line 30, in <module>
    from picamera2.encoders import Encoder, H264Encoder, MJPEGEncoder, Quality
  File "/usr/lib/python3/dist-packages/picamera2/encoders/__init__.py", line 7, in <module>
    from .encoder import Encoder, Quality
  File "/usr/lib/python3/dist-packages/picamera2/encoders/encoder.py", line 13, in <module>
    from ..request import _MappedBuffer
  File "/usr/lib/python3/dist-packages/picamera2/request.py", line 13, in <module>
    import simplejpeg
  File "/usr/lib/python3/dist-packages/simplejpeg/__init__.py", line 1, in <module>
    from ._jpeg import encode_jpeg, encode_jpeg_yuv_planes
  File "simplejpeg/_jpeg.pyx", line 1, in init simplejpeg._jpeg
ValueError: numpy.dtype size changed, may indicate binary incompatibility. Expected 96 from C header, got 88 from PyObject

üëã Face detection system stopped.



pi@raspberrypi:~/RaspberryPie5 $ rpicam-hello
[2:00:05.081938670] [19393]  INFO Camera camera_manager.cpp:330 libcamera v0.5.2+99-bfd68f78
[2:00:05.098708553] [19396]  INFO RPI pisp.cpp:720 libpisp version v1.2.1 981977ff21f3 29-04-2025 (14:13:50)
[2:00:05.103908719] [19396]  INFO IPAProxy ipa_proxy.cpp:180 Using tuning file /usr/share/libcamera/ipa/rpi/pisp/imx219.json
[2:00:05.113855460] [19396]  INFO Camera camera_manager.cpp:220 Adding camera '/base/axi/pcie@1000120000/rp1/i2c@80000/imx219@10' for pipeline handler rpi/pisp
[2:00:05.113916145] [19396]  INFO RPI pisp.cpp:1179 Registered camera /base/axi/pcie@1000120000/rp1/i2c@80000/imx219@10 to CFE device /dev/media3 and ISP device /dev/media1 using PiSP variant BCM2712_C0
Made X/EGL preview window
Mode selection for 1640:1232:12:P
    SRGGB10_CSI2P,640x480/0 - Score: 4504.81
    SRGGB10_CSI2P,1640x1232/0 - Score: 1000
    SRGGB10_CSI2P,1920x1080/0 - Score: 1541.48
    SRGGB10_CSI2P,3280x2464/0 - Score: 1718
    SRGGB8,640x480/0 - Score: 5504.81
    SRGGB8,1640x1232/0 - Score: 2000
    SRGGB8,1920x1080/0 - Score: 2541.48
    SRGGB8,3280x2464/0 - Score: 2718
Stream configuration adjusted
[2:00:05.243674204] [19393]  INFO Camera camera.cpp:1215 configuring streams: (0) 1640x1232-YUV420/sYCC (1) 1640x1232-BGGR_PISP_COMP1/RAW
[2:00:05.243856240] [19396]  INFO RPI pisp.cpp:1483 Sensor: /base/axi/pcie@1000120000/rp1/i2c@80000/imx219@10 - Selected sensor format: 1640x1232-SBGGR10_1X10/RAW - Selected CFE format: 1640x1232-PC1B/RAW


Traceback (most recent call last):
  File "/home/pi/RaspberryPie5/raspberry_pi_face_detection.py", line 26, in <module>
    from PIL import Image, ImageDraw, ImageFont, ImageTk
ImportError: cannot import name 'ImageTk' from 'PIL' (/usr/lib/python3/dist-packages/PIL/__init__.py)



üßπ Cleaning up...
‚úÖ Cleanup complete
Traceback (most recent call last):
  File "/home/pi/RaspberryPie5/raspberry_pi_face_detection.py", line 682, in <module>
    main()
  File "/home/pi/RaspberryPie5/raspberry_pi_face_detection.py", line 679, in main
    detector.run()
  File "/home/pi/RaspberryPie5/raspberry_pi_face_detection.py", line 577, in run
    f"Confidence: {[f'{s:.2f}' for s in self.last_detections]}")
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/pi/RaspberryPie5/raspberry_pi_face_detection.py", line 577, in <listcomp>
    f"Confidence: {[f'{s:.2f}' for s in self.last_detections]}")
                    ^^^^^^^^^^
TypeError: unsupported format string passed to numpy.ndarray.__format__



pi@raspberrypi:~ $ sudo npm install -g n8n
npm error code ENOTEMPTY
npm error syscall rename
npm error path /usr/lib/node_modules/n8n
npm error dest /usr/lib/node_modules/.n8n-seyU16Gs
npm error errno -39
npm error ENOTEMPTY: directory not empty, rename '/usr/lib/node_modules/n8n' -> '/usr/lib/node_modules/.n8n-seyU16Gs'
npm error A complete log of this run can be found in: /root/.npm/_logs/2025-12-10T10_26_04_511Z-debug-0.log



